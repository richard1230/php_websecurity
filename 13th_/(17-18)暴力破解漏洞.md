[TOC]
## 前言
暴力破解的分类:
1.暴力破解远程登录(ssh)(针对服务器的);后面讲(九头蛇等);
2.针对web的暴力破解;
3.二进制层面的暴力破解;
![]((17-18)暴力破解漏洞_files/398ab6b1-70f8-4a03-8675-1ad05fb2555d.jpg)
这里主要讲2；
![]((17-18)暴力破解漏洞_files/36609c38-9c1e-4ef8-80b5-9d2a6b8aba2e.jpg)
有两个前提:1.工具软件2.字典


## intruder
这里使用intruder这个模块:
![]((17-18)暴力破解漏洞_files/43a6961e-7c51-4af1-8374-3e19ccc26322.jpg)

打开火狐浏览器，登录dvwa,这里设置安全等级为low：
![]((17-18)暴力破解漏洞_files/776e727a-99a7-4b99-823f-33d6e5c2ff66.png)

![]((17-18)暴力破解漏洞_files/e9e06f6e-0b11-400f-8196-e40b23bdeff8.png)

用户名是admin，密码我是随便输的,

## 过程
打开拦截功能:
![]((17-18)暴力破解漏洞_files/e749340a-109d-4077-bb73-9d892b801c5a.jpg)
点击login：
![]((17-18)暴力破解漏洞_files/5606d5e5-c2a8-4898-b848-554c7ab59fe1.png)
可以看到包被拦截下来了:(可以看到cookie)
![]((17-18)暴力破解漏洞_files/56c39eff-9db4-4149-9f53-a4793451044c.jpg)
![]((17-18)暴力破解漏洞_files/ebdae387-288b-4292-9925-123c21b89acf.jpg)
上面是get提交方式,而后send  to intruder:
![]((17-18)暴力破解漏洞_files/be6ea57a-00b1-4909-9b5b-acba6330c6b4.png)
下面在intruder这个模块里面对这个包进行处理;(有4个可以设置的项目)
![]((17-18)暴力破解漏洞_files/4f3f1076-1799-4063-a9b7-0ffa2dcd2ac0.png)
target是攻击的目标;(这里就是192.168.2.117)

第二个是positions:(在这里需要指定攻击的变量,它这里默认选中了几个变量)
![]((17-18)暴力破解漏洞_files/fbf4e6aa-0e3f-467d-9b33-70f666757c66.jpg)




![]((17-18)暴力破解漏洞_files/52f1c40f-b91b-4ae6-b60c-251b11da3786.jpg)

这里要破解密码的话就把密码设置成变量;
![]((17-18)暴力破解漏洞_files/a8416228-e369-4855-8f20-3ff4e09b194b.jpg)
这里就是111；而后点击111,把谁设为变量之后,这里就会用字典文件挨个去替换;
首先点击一下clear：

![]((17-18)暴力破解漏洞_files/eda6db2e-00be-4a08-8e41-78e91380748e.png)

![]((17-18)暴力破解漏洞_files/c5406908-3f78-4b61-8a84-8b1e6b6d4871.png)

选中111,点击add:
![]((17-18)暴力破解漏洞_files/014b05d1-9e6d-4516-af2e-701b1a8d8ab6.png)
这样就把111指定为变量了;

攻击类型:(4种)
![]((17-18)暴力破解漏洞_files/736aaab0-7307-4a3d-bef4-393d22db3e62.png)


![]((17-18)暴力破解漏洞_files/200f44e2-dc27-45bd-be61-77abf664af99.jpg)
Sniper是可以指定多个变量,可以同时爆破多个,但是只能设置一个字典文件;（比如说既要破解用户名又要破解密码,但是只有一个字典文件,只能用这个字典里面的内容挨个去替换,先把用户名替换一遍,在把密码替换一遍）
适合一个破解变量;

集束炸弹:
Cluster bomb：
比如说用户名和密码各有一个字典文件,比如说用户名里面的第一个字典文件里面用户名为admin，可以用admin这个用户名和字典里的密码挨个配对;如果配了一遍不管用,可以在用户名字典里面调用第二个用户名-比如说是张三,再挨个去和密码字典里面配对;适合破解多个变量

payload：这里可以设置密码字典；

![]((17-18)暴力破解漏洞_files/61713dd3-9d6b-49b8-b284-68af280da352.jpg)
前面设了几个变量,这里就有几个payload sets；
![]((17-18)暴力破解漏洞_files/b4ede9d3-4ba0-4bca-9add-64704340597a.jpg)
![]((17-18)暴力破解漏洞_files/94a74636-75b4-47e4-836b-5a5e7105fad1.jpg)


![]((17-18)暴力破解漏洞_files/ead6940a-5983-4ad4-b99b-588729117ce9.jpg)

每一个变量可能用的字典是不一样的（如果是多个变量,可能为第一个变量设置的是什么字典,第二个变量.设置的是什么字典!）

![]((17-18)暴力破解漏洞_files/020c7503-3363-41f9-bb66-ae0fd97fb522.jpg)

simple list和Runtime file是常用的：
这里用runtime file:
**指定路径和文件名里面不能没有中文;**
![]((17-18)暴力破解漏洞_files/18abacc3-7622-40cc-a5f1-a421e4376aaf.jpg)

最后看一下第四个:
![]((17-18)暴力破解漏洞_files/b81945d8-4312-461e-b128-29a429bd31cc.jpg)


![]((17-18)暴力破解漏洞_files/22f6d58d-5571-4dec-abe9-ef69e4229c1b.png)
`Username and/or password incorrect.
`
不对的时候会报上面这个错;所以你要告诉Burpsuite,如果不对的话;就会出来上面一段提示!
![]((17-18)暴力破解漏洞_files/50d71ba9-059f-4bed-99d2-255f0c2f10e5.jpg)


![]((17-18)暴力破解漏洞_files/70dc37a6-1f83-4a47-b107-3788fbdca2bf.jpg)

![]((17-18)暴力破解漏洞_files/e0aba376-375d-44b5-a06e-2c335a02ee4e.jpg)

点击攻击:
![]((17-18)暴力破解漏洞_files/cb2ca156-8148-4f66-b45e-74b48d79b997.jpg)

![]((17-18)暴力破解漏洞_files/46dfc334-563e-4da6-aa9e-769e1a766526.jpg)

1.找不打勾的;
2.错误的页面长度是一样的;

![]((17-18)暴力破解漏洞_files/d0c1e475-dae6-4bde-a4bd-9275728b09fd.jpg)

这里长度都一样的,故这里没有暴力破解掉,可能字典有问题!(所以说一个好的文档是必须的！)

换一种方法:
drop掉前面一个包;
![]((17-18)暴力破解漏洞_files/76cf9619-e5b4-4d12-84b4-0569cc8fab87.jpg)
再将 intercept is off;
![]((17-18)暴力破解漏洞_files/3e274b1f-21a0-4aeb-9c14-285004d7d517.png)
用户名和密码全部填错的;
开启拦截:
![]((17-18)暴力破解漏洞_files/3cb05d9b-5ca5-4bd5-8a62-511aefe62d71.jpg)

点击login;

极速炸弹；
![]((17-18)暴力破解漏洞_files/2e780902-be84-4eff-a8d8-7d1682bbcef9.png)

![]((17-18)暴力破解漏洞_files/ce639b2f-b37c-4bc1-bf9c-75eacb11a34e.jpg)
加一个admin

![]((17-18)暴力破解漏洞_files/04fd28f2-8ef0-4ba6-8eb7-eccf0d8d8675.png)

![]((17-18)暴力破解漏洞_files/a6c4b7e9-baa3-41fe-8e64-54482e11220d.jpg)

![]((17-18)暴力破解漏洞_files/c90d3bc8-b776-401d-82f2-fe01eedb235c.jpg)


![]((17-18)暴力破解漏洞_files/ce61265f-c886-4cfa-87f8-6670a9539ccb.png)


## 防范暴力破解
![]((17-18)暴力破解漏洞_files/79a0cd3a-e446-48bc-a17a-98166f867fa1.jpg)


![]((17-18)暴力破解漏洞_files/4db0af23-e900-4df5-bcf4-fd7d0dbb83f5.jpg)
